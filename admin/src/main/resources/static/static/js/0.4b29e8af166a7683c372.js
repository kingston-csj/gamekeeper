webpackJsonp([0,1],{"/4e5":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={name:"KtTable",components:{KtButton:a("wbNz").default},props:{columns:Array,data:Object,permsEdit:String,permsDelete:String,size:{type:String,default:"mini"},align:{type:String,default:"left"},maxHeight:{type:Number,default:420},height:{type:Number,default:250},showOperation:{type:Boolean,default:!0},border:{type:Boolean,default:!1},stripe:{type:Boolean,default:!0},highlightCurrentRow:{type:Boolean,default:!0},showOverflowTooltip:{type:Boolean,default:!0},showBatchDelete:{type:Boolean,default:!0}},data:function(){return{pageRequest:{pageNum:1,pageSize:10},loading:!1,selections:[]}},methods:{findPage:function(){var e=this;this.loading=!0;this.$emit("findPage",{pageRequest:this.pageRequest,callback:function(t){e.loading=!1}})},selectionChange:function(e){this.selections=e,this.$emit("selectionChange",{selections:e})},handleCurrentChange:function(e){this.$emit("handleCurrentChange",{val:e})},refreshPageRequest:function(e){this.pageRequest.pageNum=e,this.findPage()},handleEdit:function(e,t){this.$emit("handleEdit",{index:e,row:t})},handleDelete:function(e,t){this.delete(t.id)},handleBatchDelete:function(){var e=this.selections.map(function(e){return e.id}).toString();this.delete(e)},delete:function(e){var t=this;this.$confirm("确认删除选中记录吗？","提示",{type:"warning"}).then(function(){for(var a=[],n=(e+"").split(","),i=0;i<n.length;i++)a.push({id:n[i]});t.loading=!0;t.$emit("handleDelete",{params:a,callback:function(e){200==e.code?(t.$message({message:"删除成功",type:"success"}),t.findPage()):t.$message({message:"操作失败, "+e.msg,type:"error"}),t.loading=!1}})}).catch(function(){})}},mounted:function(){this.refreshPageRequest(1)}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.data.content,"highlight-current-row":e.highlightCurrentRow,"element-loading-text":e.$t("action.loading"),border:e.border,stripe:e.stripe,"show-overflow-tooltip":e.showOverflowTooltip,"max-height":e.maxHeight,height:e.height,size:e.size,align:e.align},on:{"selection-change":e.selectionChange,"current-change":e.handleCurrentChange}},[e.showBatchDelete&e.showOperation?a("el-table-column",{attrs:{type:"selection",width:"40"}}):e._e(),e._v(" "),e._l(e.columns,function(e){return a("el-table-column",{key:e.prop,attrs:{"header-align":"center",align:"center",prop:e.prop,label:e.label,width:e.width,"min-width":e.minWidth,fixed:e.fixed,type:e.type,formatter:e.formatter,sortable:null==e.sortable||e.sortable}})}),e._v(" "),e.showOperation?a("el-table-column",{attrs:{label:e.$t("action.operation"),width:"185",fixed:"right","header-align":"center",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("kt-button",{attrs:{icon:"fa fa-edit",label:e.$t("action.edit"),perms:e.permsEdit,size:e.size},on:{click:function(a){e.handleEdit(t.$index,t.row)}}}),e._v(" "),a("kt-button",{attrs:{icon:"fa fa-trash",label:e.$t("action.delete"),perms:e.permsDelete,size:e.size,type:"danger"},on:{click:function(a){e.handleDelete(t.$index,t.row)}}})]}}])}):e._e()],2),e._v(" "),a("div",{staticClass:"toolbar",staticStyle:{padding:"10px"}},[e.showBatchDelete&e.showOperation?a("kt-button",{staticStyle:{float:"left"},attrs:{label:e.$t("action.batchDelete"),perms:e.permsDelete,size:e.size,type:"danger",disabled:0===this.selections.length},on:{click:function(t){e.handleBatchDelete()}}}):e._e(),e._v(" "),a("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"total, prev, pager, next, jumper","current-page":e.pageRequest.pageNum,"page-size":e.pageRequest.pageSize,total:e.data.totalSize},on:{"current-change":e.refreshPageRequest}})],1)],1)},staticRenderFns:[]};var l=a("VU/8")(n,i,!1,function(e){a("lCqD")},"data-v-3e2b973a",null);t.default=l.exports},"3NfA":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={data:function(){return{tableData:[],currentPage:1,total:0,pageSize:10,selectDateFrom:"",selectDateTo:"",dialogFormVisible:!1,formLabelWidth:"120px",loading2:!1,pickerOptions0:{disabledDate:function(e){return!1}}}},mounted:function(){this.initTime()},methods:{loadData:function(){this.loading2=!0;this.currentPage,this.pageSize,this.selectDateFrom,this.selectDateTo;var e=this;this.$api.pay.findPage({page:e.currentPage,pageSize:e.pageSize,selectFrom:e.selectDateFrom.getTime(),selectTo:e.selectDateTo.getTime()}).then(function(t){e.loading=!1,e.tableData=t.data.orders,e.loading2=!1,e.total=t.data.totalRecord})},onSubmit:function(){this.loadData()},handleSizeChange:function(e){this.pageSize=e},handleCurrentChange:function(e){this.currentPage=e,this.loadData()},initTime:function(){var e=new Date;e.setHours(0),e.setMinutes(0),e.setSeconds(0),this.selectDateFrom=e;var t=new Date;t.setHours(23),t.setMinutes(59),t.setSeconds(59),this.selectDateTo=t}}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"users"}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-form-item",[a("el-date-picker",{attrs:{type:"datetime",placeholder:"开始日期","picker-options":e.pickerOptions0},model:{value:e.selectDateFrom,callback:function(t){e.selectDateFrom=t},expression:"selectDateFrom"}})],1),e._v(" "),a("el-form-item",[a("el-date-picker",{attrs:{type:"datetime",placeholder:"结束日期","picker-options":e.pickerOptions0},model:{value:e.selectDateTo,callback:function(t){e.selectDateTo=t},expression:"selectDateTo"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("查询")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading2,expression:"loading2"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,"element-loading-text":"拼命加载中"}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"id",label:"订单id",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.id))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"account",label:"充值账号"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.account))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"time",label:"充值时间",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.time))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"money",label:"充值金额",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.money))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"channel",label:"归属渠道",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.channel))]}}])})],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,50],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},staticRenderFns:[]};var l=a("VU/8")(n,i,!1,function(e){a("vhi9")},"data-v-bec79b62",null);t.default=l.exports},"8XJW":function(e,t){},AUIh:function(e,t,a){"use strict";t.a=function(e){return function(e,t,a){if(null!=e){var n=new Date(e),i=n.getFullYear(),l=n.getMonth()+1,r=n.getDate(),o=n.getHours(),s=n.getMinutes(),c=n.getSeconds(),d=i+t+l+t+r+" "+o+a+s+a+c;return d}}(e,"/",":")}},BQHT:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("NGEn"),i=a.n(n),l={name:"table-tree-column",props:{prop:{type:String},treeKey:{type:String,default:"id"},parentKey:{type:String,default:"parentId"},levelKey:{type:String,default:"level"},childKey:{type:String,default:"children"}},methods:{childStyles:function(e){return{"padding-left":25*e[this.levelKey]+"px"}},iconClasses:function(e){return[e._expanded?"el-icon-caret-bottom":"el-icon-caret-right"]},iconStyles:function(e){return{visibility:this.hasChild(e)?"visible":"hidden"}},hasChild:function(e){return i()(e[this.childKey])&&e[this.childKey].length>=1||!1},toggleHandle:function(e,t){var a=this;if(this.hasChild(t)){var n=this.$parent.store.states.data.slice(0);n[e]._expanded=!n[e]._expanded,n=n[e]._expanded?n.splice(0,e+1).concat(t[this.childKey]).concat(n):this.removeChildNode(n,t[this.treeKey]),this.$parent.store.commit("setData",n),this.$nextTick(function(){a.$parent.doLayout()})}},removeChildNode:function(e,t){var a=i()(t)?t:[t];if(t.length<=0)return e;for(var n=[],l=0;l<e.length;l++)-1!==a.indexOf(e[l][this.parentKey])&&-1===a.indexOf(e[l][this.treeKey])&&(n.push(e.splice(l,1)[0][this.treeKey]),l--);return this.removeChildNode(e,n)}}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-table-column",e._b({attrs:{prop:e.prop},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{style:e.childStyles(t.row),on:{click:function(a){a.preventDefault(),e.toggleHandle(t.$index,t.row)}}},[a("i",{class:e.iconClasses(t.row),style:e.iconStyles(t.row)}),e._v("\n      "+e._s(t.row[e.prop])+"\n    ")])]}}])},"el-table-column",e.$attrs,!1))},staticRenderFns:[]},o=a("VU/8")(l,r,!1,null,null,null);t.default=o.exports},DvVi:function(e,t){},EN35:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("mvHQ"),i=a.n(n),l={name:"TableColumnFilterDialog",components:{},props:{columns:{type:Array,default:[]},size:{type:String,default:"mini"}},data:function(){return{selections:[],dialogVisible:!1}},methods:{selectionChange:function(e){this.selections=e},setDialogVisible:function(e){this.dialogVisible=e},handleFilterColumns:function(){for(var e=[],t=0;t<this.columns.length;t++){var a=this.columns[t];this.hasColumn(a)&&e.push(a)}this.$emit("handleFilterColumns",{filterColumns:JSON.parse(i()(e))})},hasColumn:function(e){for(var t=0;t<this.selections.length;t++){var a=this.selections[t];if(e.prop==a.prop)return!0}return!1}},mounted:function(){}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"表格显示列",width:"40%",visible:e.dialogVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-table",{ref:"fitlerTable",staticStyle:{width:"100%"},attrs:{data:e.columns,height:"330px","tooltip-effect":"dark","header-align":"left",align:"left",size:e.size},on:{"selection-change":e.selectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"40"}}),e._v(" "),a("el-table-column",{attrs:{label:"属性"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.prop))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"列名"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{size:e.size},model:{value:t.row.label,callback:function(a){e.$set(t.row,"label",a)},expression:"scope.row.label"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"最小宽度"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{size:e.size},model:{value:t.row.minWidth,callback:function(a){e.$set(t.row,"minWidth",a)},expression:"scope.row.minWidth"}})]}}])})],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:e.size},nativeOn:{click:function(t){e.dialogVisible=!1}}},[e._v(e._s(e.$t("action.cancel")))]),e._v(" "),a("el-button",{attrs:{size:e.size,type:"primary"},nativeOn:{click:function(t){return e.handleFilterColumns(t)}}},[e._v(e._s(e.$t("action.comfirm")))])],1)],1)},staticRenderFns:[]};var o=a("VU/8")(l,r,!1,function(e){a("gnrv")},"data-v-be534bb6",null);t.default=o.exports},Is6l:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("woOf"),i=a.n(n),l=a("wbNz"),r=a("BQHT"),o=a("xA5l"),s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-tooltip",{staticClass:"tooltip",attrs:{placement:"top",effect:"light"}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("p",[e._v("推荐使用 Font Aweson 图标")]),e._v(" "),a("p",[e._v("使用步骤：")]),e._v(" "),a("p",[e._v("1.进入 "),a("a",{attrs:{href:"http://www.fontawesome.com.cn/faicons/",target:"_blank"}},[e._v("Font Aweson")]),e._v(" 页面")]),e._v(" "),a("p",[e._v("2.查找到需要的图标,点击查看。")]),e._v(" "),a("p",[e._v("3.复制图片样式到此处。")]),e._v(" "),a("p",[e._v("示例：fa fa-home fa-lg")])]),e._v(" "),a("i",{staticClass:"el-icon-warning"})])},staticRenderFns:[]};var c=a("VU/8")({data:function(){return{}},methods:{},mounted:function(){}},s,!1,function(e){a("ohzr")},"data-v-2005f6da",null).exports,d={components:{PopupTreeInput:o.a,KtButton:l.default,TableTreeColumn:r.default,FaIconTooltip:c},data:function(){return{size:"small",loading:!1,filters:{name:""},tableTreeDdata:[],dialogVisible:!1,menuTypeList:["目录","菜单","按钮"],dataForm:{id:0,type:1,name:"",parentId:0,parentName:"",url:"",perms:"",orderNum:0,icon:"",iconList:[]},dataRule:{name:[{required:!0,message:"菜单名称不能为空",trigger:"blur"}]},popupTreeData:[],popupTreeProps:{label:"name",children:"children"}}},methods:{findTreeData:function(){var e=this;this.loading=!0,this.$api.menu.findMenuTree().then(function(t){e.tableTreeDdata=t.data,e.popupTreeData=e.getParentMenuTree(t.data),e.loading=!1})},getParentMenuTree:function(e){return[{parentId:0,name:"顶级菜单",children:e}]},handleAdd:function(){this.dialogVisible=!0,this.dataForm={id:0,type:1,typeList:["目录","菜单","按钮"],name:"",parentId:0,parentName:"",url:"",perms:"",orderNum:0,icon:"",iconList:[]}},handleEdit:function(e){this.dialogVisible=!0,i()(this.dataForm,e)},handleDelete:function(e){var t=this;this.$confirm("确认删除选中记录吗？","提示",{type:"warning"}).then(function(){var a=t.getDeleteIds([],e);t.$api.menu.batchDelete(a).then(function(e){t.findTreeData(),t.$message({message:"删除成功",type:"success"})})})},getDeleteIds:function(e,t){if(e.push({id:t.id}),null!=t.children)for(var a=0,n=t.children.length;a<n;a++)this.getDeleteIds(e,t.children[a]);return e},handleTreeSelectChange:function(e,t){this.dataForm.parentId=e.id,this.dataForm.parentName=e.name},iconActiveHandle:function(e){this.dataForm.icon=e},submitForm:function(){var e=this;this.$refs.dataForm.validate(function(t){t&&e.$confirm("确认提交吗？","提示",{}).then(function(){e.editLoading=!0;var t=i()({},e.dataForm);e.$api.menu.save(t).then(function(t){e.editLoading=!1,200==t.code?(e.$message({message:"操作成功",type:"success"}),e.$refs.dataForm.resetFields(),e.dialogVisible=!1):e.$message({message:"操作失败, "+t.msg,type:"error"}),e.findTreeData()})})})}},mounted:function(){this.findTreeData()}},u={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-container"},[a("div",{staticClass:"toolbar",staticStyle:{float:"left","padding-top":"10px","padding-left":"15px"}},[a("el-form",{attrs:{inline:!0,model:e.filters,size:e.size}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"名称"},model:{value:e.filters.name,callback:function(t){e.$set(e.filters,"name",t)},expression:"filters.name"}})],1),e._v(" "),a("el-form-item",[a("kt-button",{attrs:{icon:"fa fa-search",label:e.$t("action.search"),perms:"sys:menu:view",type:"primary"},on:{click:function(t){e.findTreeData(null)}}})],1),e._v(" "),a("el-form-item",[a("kt-button",{attrs:{icon:"fa fa-plus",label:e.$t("action.add"),perms:"sys:menu:add",type:"primary"},on:{click:e.handleAdd}})],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableTreeDdata,stripe:"",size:"mini",rowKey:"id","element-loading-text":"$t('action.loading')"}},[a("el-table-column",{attrs:{prop:"id","header-align":"center",align:"center",width:"80",label:"ID"}}),e._v(" "),a("table-tree-column",{attrs:{prop:"name","header-align":"center",treeKey:"id",width:"150",label:"名称"}}),e._v(" "),a("el-table-column",{attrs:{"header-align":"center",align:"center",label:"图标"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("i",{class:e.row.icon||""})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"type","header-align":"center",align:"center",label:"类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.type?a("el-tag",{attrs:{size:"small"}},[e._v("目录")]):1===t.row.type?a("el-tag",{attrs:{size:"small",type:"success"}},[e._v("菜单")]):2===t.row.type?a("el-tag",{attrs:{size:"small",type:"info"}},[e._v("按钮")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"parentName","header-align":"center",align:"center",width:"120",label:"上级菜单"}}),e._v(" "),a("el-table-column",{attrs:{prop:"url","header-align":"center",align:"center",width:"150","show-overflow-tooltip":!0,label:"菜单URL"}}),e._v(" "),a("el-table-column",{attrs:{prop:"perms","header-align":"center",align:"center",width:"150","show-overflow-tooltip":!0,label:"授权标识"}}),e._v(" "),a("el-table-column",{attrs:{prop:"orderNum","header-align":"center",align:"center",label:"排序"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right","header-align":"center",align:"center",width:"185",label:e.$t("action.operation")},scopedSlots:e._u([{key:"default",fn:function(t){return[a("kt-button",{attrs:{icon:"fa fa-edit",label:e.$t("action.edit"),perms:"sys:menu:edit"},on:{click:function(a){e.handleEdit(t.row)}}}),e._v(" "),a("kt-button",{attrs:{icon:"fa fa-trash",label:e.$t("action.delete"),perms:"sys:menu:delete",type:"danger"},on:{click:function(a){e.handleDelete(t.row)}}})]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:e.dataForm.id?"修改":"新增",width:"40%",visible:e.dialogVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"dataForm",staticStyle:{"text-align":"left"},attrs:{model:e.dataForm,rules:e.dataRule,"label-width":"80px",size:e.size},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.submitForm()}}},[a("el-form-item",{attrs:{label:"菜单类型",prop:"type"}},[a("el-radio-group",{model:{value:e.dataForm.type,callback:function(t){e.$set(e.dataForm,"type",t)},expression:"dataForm.type"}},e._l(e.menuTypeList,function(t,n){return a("el-radio",{key:n,attrs:{label:n}},[e._v(e._s(t))])}))],1),e._v(" "),a("el-form-item",{attrs:{label:e.menuTypeList[e.dataForm.type]+"名称",prop:"name"}},[a("el-input",{attrs:{placeholder:e.menuTypeList[e.dataForm.type]+"名称"},model:{value:e.dataForm.name,callback:function(t){e.$set(e.dataForm,"name",t)},expression:"dataForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"上级菜单",prop:"parentName"}},[a("popup-tree-input",{attrs:{data:e.popupTreeData,props:e.popupTreeProps,prop:null==e.dataForm.parentName||""==e.dataForm.parentName?"顶级菜单":e.dataForm.parentName,nodeKey:""+e.dataForm.parentId,currentChangeHandle:e.handleTreeSelectChange}})],1),e._v(" "),0!==e.dataForm.type?a("el-form-item",{attrs:{label:"授权标识",prop:"perms"}},[a("el-input",{attrs:{placeholder:"如: sys:user:add, sys:user:edit, sys:user:delete"},model:{value:e.dataForm.perms,callback:function(t){e.$set(e.dataForm,"perms",t)},expression:"dataForm.perms"}})],1):e._e(),e._v(" "),1===e.dataForm.type?a("el-form-item",{attrs:{label:"菜单路由",prop:"url"}},[a("el-row",[a("el-col",{attrs:{span:22}},[a("el-input",{attrs:{placeholder:"菜单路由"},model:{value:e.dataForm.url,callback:function(t){e.$set(e.dataForm,"url",t)},expression:"dataForm.url"}})],1),e._v(" "),a("el-col",{staticClass:"icon-list__tips",attrs:{span:2}},[a("el-tooltip",{staticStyle:{padding:"10px"},attrs:{placement:"top",effect:"light"}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("p",[e._v("URL格式：")]),e._v(" "),a("p",[e._v("1.常规业务开发的功能URL，如用户管理，Views目录下页面路径为 /Sys/User, 此处填写 /sys/user。")]),e._v(" "),a("p",[e._v("2.嵌套外部网页，如通过菜单打开百度网页，此处填写 http://www.baidu.com，http:// 不可省略。")]),e._v(" "),a("p",[e._v("示例：用户管理：/sys/user 嵌套百度：http://www.baidu.com 嵌套网页：http://127.0.0.1:8000")])]),e._v(" "),a("i",{staticClass:"el-icon-warning"})])],1)],1)],1):e._e(),e._v(" "),2!==e.dataForm.type?a("el-form-item",{attrs:{label:"排序编号",prop:"orderNum"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0,label:"排序编号"},model:{value:e.dataForm.orderNum,callback:function(t){e.$set(e.dataForm,"orderNum",t)},expression:"dataForm.orderNum"}})],1):e._e(),e._v(" "),2!==e.dataForm.type?a("el-form-item",{attrs:{label:"菜单图标",prop:"icon"}},[a("el-row",[a("el-col",{attrs:{span:22}},[a("el-input",{directives:[{name:"popover",rawName:"v-popover:iconListPopover",arg:"iconListPopover"}],staticClass:"icon-list__input",attrs:{readonly:!1,placeholder:"菜单图标名称（如：fa fa-home fa-lg）"},model:{value:e.dataForm.icon,callback:function(t){e.$set(e.dataForm,"icon",t)},expression:"dataForm.icon"}})],1),e._v(" "),a("el-col",{staticClass:"icon-list__tips",attrs:{span:2}},[a("fa-icon-tooltip")],1)],1)],1):e._e()],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:e.size},on:{click:function(t){e.dialogVisible=!1}}},[e._v(e._s(e.$t("action.cancel")))]),e._v(" "),a("el-button",{attrs:{size:e.size,type:"primary"},on:{click:function(t){e.submitForm()}}},[e._v(e._s(e.$t("action.comfirm")))])],1)],1)],1)},staticRenderFns:[]};var p=a("VU/8")(d,u,!1,function(e){a("zCrF")},"data-v-2fe31614",null);t.default=p.exports},NGEn:function(e,t){var a=Array.isArray;e.exports=a},NGlO:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={data:function(){return{src:"",loading:null}},methods:{resetSrc:function(e){this.src=e,this.load()},load:function(){this.loading=this.$loading({lock:!0,text:"loading...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.5)",target:document.querySelector("#main-container ")})},onloaded:function(){this.loading&&this.loading.close()}},mounted:function(){this.resetSrc(this.$store.state.iframe.iframeUrl)},watch:{$route:{handler:function(e,t){this.resetSrc(this.$store.state.iframe.iframeUrl)}}}},i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"iframe-container"},[t("iframe",{staticClass:"frame",attrs:{src:this.src,scrolling:"auto",frameborder:"0",onload:this.onloaded()}})])},staticRenderFns:[]};var l=a("VU/8")(n,i,!1,function(e){a("RNvo")},null,null);t.default=l.exports},RNvo:function(e,t){},"T7/o":function(e,t){},VKGr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("mvHQ"),i=a.n(n),l=a("woOf"),r=a.n(l),o=a("xA5l"),s=a("/4e5"),c=a("wbNz"),d=a("EN35"),u=a("AUIh"),p={components:{PopupTreeInput:o.a,KtTable:s.default,KtButton:c.default,TableColumnFilterDialog:d.default},data:function(){return{size:"small",filters:{name:""},columns:[],filterColumns:[],pageRequest:{pageNum:1,pageSize:10},pageResult:{},operation:!1,dialogVisible:!1,editLoading:!1,dataFormRules:{name:[{required:!0,message:"请输入用户名",trigger:"blur"}]},dataForm:{id:0,name:"",password:"123456",email:"test@qq.com",mobile:"13889700023",status:1,userRoles:[]},roles:[]}},methods:{findPage:function(e){var t=this;null!==e&&(this.pageRequest=e.pageRequest),this.pageRequest.columnFilters={name:{name:"name",value:this.filters.name}},this.$api.user.findPage(this.pageRequest).then(function(e){t.pageResult=e.data,t.findUserRoles()}).then(null!=e?e.callback:"")},findUserRoles:function(){var e=this;this.$api.role.findAll().then(function(t){e.roles=t.data})},handleDelete:function(e){this.$api.user.batchDelete(e.params).then(null!=e?e.callback:"")},handleAdd:function(){this.dialogVisible=!0,this.operation=!0,this.dataForm={id:0,name:"",password:"",email:"test@qq.com",mobile:"123456789",status:1,userRoles:[]}},handleEdit:function(e){this.dialogVisible=!0,this.operation=!1,this.dataForm=r()({},e.row);for(var t=[],a=0,n=e.row.userRoles.length;a<n;a++)t.push(e.row.userRoles[a].roleId);this.dataForm.userRoles=t},submitForm:function(){var e=this;this.$refs.dataForm.validate(function(t){t&&e.$confirm("确认提交吗？","提示",{}).then(function(){e.editLoading=!0;for(var t=r()({},e.dataForm),a=[],n=0,i=t.userRoles.length;n<i;n++){var l={userId:t.id,roleId:t.userRoles[n]};a.push(l)}t.userRoles=a,e.$api.user.save(t).then(function(t){e.editLoading=!1,200==t.code?(e.$message({message:"操作成功",type:"success"}),e.dialogVisible=!1,e.$refs.dataForm.resetFields()):e.$message({message:"操作失败, "+t.msg,type:"error"}),e.findPage(null)})})})},dateFormat:function(e,t,a,n){return Object(u.a)(e[t.property])},displayFilterColumnsDialog:function(){this.$refs.tableColumnFilterDialog.setDialogVisible(!0)},handleFilterColumns:function(e){this.filterColumns=e.filterColumns,this.$refs.tableColumnFilterDialog.setDialogVisible(!1)},initColumns:function(){this.columns=[{prop:"id",label:"ID",minWidth:50},{prop:"name",label:"用户名",minWidth:120},{prop:"roleNames",label:"角色",minWidth:100},{prop:"email",label:"邮箱",minWidth:120},{prop:"mobile",label:"手机",minWidth:100},{prop:"status",label:"状态",minWidth:70}],this.filterColumns=JSON.parse(i()(this.columns))}},mounted:function(){this.initColumns()}},m={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-container"},[a("div",{staticClass:"toolbar",staticStyle:{float:"left","padding-top":"10px","padding-left":"15px"}},[a("el-form",{attrs:{inline:!0,model:e.filters,size:e.size}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"用户名"},model:{value:e.filters.name,callback:function(t){e.$set(e.filters,"name",t)},expression:"filters.name"}})],1),e._v(" "),a("el-form-item",[a("kt-button",{attrs:{icon:"fa fa-search",label:e.$t("action.search"),perms:"sys:role:view",type:"primary"},on:{click:function(t){e.findPage(null)}}})],1),e._v(" "),a("el-form-item",[a("kt-button",{attrs:{icon:"fa fa-plus",label:e.$t("action.add"),perms:"sys:user:add",type:"primary"},on:{click:e.handleAdd}})],1)],1)],1),e._v(" "),a("div",{staticClass:"toolbar",staticStyle:{float:"right","padding-top":"10px","padding-right":"15px"}},[a("el-form",{attrs:{inline:!0,size:e.size}},[a("el-form-item",[a("el-button-group",[a("el-tooltip",{attrs:{content:"刷新",placement:"top"}},[a("el-button",{attrs:{icon:"fa fa-refresh"},on:{click:function(t){e.findPage(null)}}})],1),e._v(" "),a("el-tooltip",{attrs:{content:"列显示",placement:"top"}},[a("el-button",{attrs:{icon:"fa fa-filter"},on:{click:e.displayFilterColumnsDialog}})],1)],1)],1)],1),e._v(" "),a("table-column-filter-dialog",{ref:"tableColumnFilterDialog",attrs:{columns:e.columns},on:{handleFilterColumns:e.handleFilterColumns}})],1),e._v(" "),a("kt-table",{attrs:{height:350,permsEdit:"sys:user:edit",permsDelete:"sys:user:delete",data:e.pageResult,columns:e.filterColumns},on:{findPage:e.findPage,handleEdit:e.handleEdit,handleDelete:e.handleDelete}}),e._v(" "),a("el-dialog",{attrs:{title:e.operation?"新增":"编辑",width:"40%",visible:e.dialogVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"dataForm",attrs:{model:e.dataForm,"label-width":"80px",rules:e.dataFormRules,size:e.size,"label-position":"right"}},[e._e(),e._v(" "),a("el-form-item",{attrs:{label:"用户名",prop:"name"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.dataForm.name,callback:function(t){e.$set(e.dataForm,"name",t)},expression:"dataForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{attrs:{type:"password","auto-complete":"off"},model:{value:e.dataForm.password,callback:function(t){e.$set(e.dataForm,"password",t)},expression:"dataForm.password"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.dataForm.email,callback:function(t){e.$set(e.dataForm,"email",t)},expression:"dataForm.email"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机",prop:"mobile"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.dataForm.mobile,callback:function(t){e.$set(e.dataForm,"mobile",t)},expression:"dataForm.mobile"}})],1),e._v(" "),e.operation?e._e():a("el-form-item",{attrs:{label:"角色",prop:"userRoles"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:"请选择"},model:{value:e.dataForm.userRoles,callback:function(t){e.$set(e.dataForm,"userRoles",t)},expression:"dataForm.userRoles"}},e._l(e.roles,function(e){return a("el-option",{key:e.id,attrs:{label:e.remark,value:e.id}})}))],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:e.size},nativeOn:{click:function(t){e.dialogVisible=!1}}},[e._v(e._s(e.$t("action.cancel")))]),e._v(" "),a("el-button",{attrs:{size:e.size,type:"primary",loading:e.editLoading},nativeOn:{click:function(t){return e.submitForm(t)}}},[e._v(e._s(e.$t("action.submit")))])],1)],1)],1)},staticRenderFns:[]};var f=a("VU/8")(p,m,!1,function(e){a("8XJW")},"data-v-593b8742",null);t.default=f.exports},bfzu:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("woOf"),i=a.n(n),l=a("/4e5"),r=a("wbNz"),o=a("BQHT"),s=a("AUIh"),c={components:{KtTable:l.default,KtButton:r.default,TableTreeColumn:o.default},data:function(){return{size:"small",filters:{name:""},columns:[{prop:"id",label:"ID",minWidth:50},{prop:"name",label:"角色名",minWidth:120},{prop:"remark",label:"备注",minWidth:120},{prop:"createBy",label:"创建人",minWidth:120},{prop:"createTime",label:"创建时间",minWidth:120,formatter:this.dateFormat}],pageRequest:{pageNum:1,pageSize:10},pageResult:{},operation:!1,dialogVisible:!1,editLoading:!1,dataFormRules:{name:[{required:!0,message:"请输入角色名",trigger:"blur"}]},dataForm:{id:0,name:"",remark:""},selectRole:{},menuData:[],menuSelections:[],menuLoading:!1,authLoading:!1,checkAll:!1,currentRoleMenus:[],defaultProps:{children:"children",label:"name"}}},methods:{findPage:function(e){var t=this;null!==e&&(this.pageRequest=e.pageRequest),this.pageRequest.columnFilters={name:{name:"name",value:this.filters.name}},this.$api.role.findPage(this.pageRequest).then(function(e){t.pageResult=e.data,t.findTreeData()}).then(null!=e?e.callback:"")},handleDelete:function(e){this.$api.role.batchDelete(e.params).then(e.callback)},handleAdd:function(){this.dialogVisible=!0,this.operation=!0,this.dataForm={id:0,name:"",remark:""}},handleEdit:function(e){this.dialogVisible=!0,this.operation=!1,this.dataForm=i()({},e.row)},submitForm:function(){var e=this;this.$refs.dataForm.validate(function(t){t&&e.$confirm("确认提交吗？","提示",{}).then(function(){e.editLoading=!0;var t=i()({},e.dataForm);e.$api.role.save(t).then(function(t){e.editLoading=!1,200==t.code?(e.$message({message:"操作成功",type:"success"}),e.dialogVisible=!1,e.$refs.dataForm.resetFields()):e.$message({message:"操作失败, "+t.msg,type:"error"}),e.findPage(null)})})})},findTreeData:function(){var e=this;this.menuLoading=!0,this.$api.menu.findMenuTree().then(function(t){e.menuData=t.data,e.menuLoading=!1})},handleRoleSelectChange:function(e){var t=this;null!=e&&null!=e.val&&(this.selectRole=e.val,this.$api.role.findRoleMenus({roleId:e.val.id}).then(function(e){t.currentRoleMenus=e.data,t.$refs.menuTree.setCheckedNodes(e.data)}))},handleMenuCheckChange:function(e,t,a){var n=this;if(t){var i=e.parentId;this.$refs.menuTree.setChecked(i,!0,!1)}else null!=e.children&&e.children.forEach(function(e){n.$refs.menuTree.setChecked(e.id,!1,!1)})},resetSelection:function(){this.checkAll=!1,this.$refs.menuTree.setCheckedNodes(this.currentRoleMenus)},handleCheckAll:function(){if(this.checkAll){var e=[];this.checkAllMenu(this.menuData,e),this.$refs.menuTree.setCheckedNodes(e)}else this.$refs.menuTree.setCheckedNodes([])},checkAllMenu:function(e,t){var a=this;e.forEach(function(e){t.push(e),e.children&&a.checkAllMenu(e.children,t)})},submitAuthForm:function(){var e=this,t=this.selectRole.id;if("admin"!=this.selectRole.name){this.authLoading=!0;for(var a=this.$refs.menuTree.getCheckedNodes(!1,!0),n=[],i=0,l=a.length;i<l;i++){var r={roleId:t,menuId:a[i].id};n.push(r)}console.log("roleMenus"+n),this.$api.role.saveRoleMenus(n).then(function(t){200==t.code?e.$message({message:"操作成功",type:"success"}):e.$message({message:"操作失败, "+t.msg,type:"error"}),e.authLoading=!1})}else this.$message({message:"超级管理员拥有所有菜单权限，不允许修改！",type:"error"})},renderContent:function(e,t){t.node;var a=t.data;t.store;return e("div",{class:"column-container"},[e("span",{style:"text-algin:center;margin-right:80px;"},[a.name]),e("span",{style:"text-algin:center;margin-right:80px;"},[e("el-tag",{attrs:{type:0===a.type?"":1===a.type?"success":"info",size:"small"}},[0===a.type?"目录":1===a.type?"菜单":"按钮"])]),e("span",{style:"text-algin:center;margin-right:80px;"},[" ",e("i",{class:a.icon})]),e("span",{style:"text-algin:center;margin-right:80px;"},[a.parentName?a.parentName:"顶级菜单"]),e("span",{style:"text-algin:center;margin-right:80px;"},[a.url?a.url:"\t"])])},dateFormat:function(e,t,a,n){return Object(s.a)(e[t.property])}},mounted:function(){}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-container"},[a("div",{staticClass:"toolbar",staticStyle:{float:"left","padding-top":"10px","padding-left":"15px"}},[a("el-form",{attrs:{inline:!0,model:e.filters,size:e.size}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"角色名"},model:{value:e.filters.name,callback:function(t){e.$set(e.filters,"name",t)},expression:"filters.name"}})],1),e._v(" "),a("el-form-item",[a("kt-button",{attrs:{icon:"fa fa-search",label:e.$t("action.search"),perms:"sys:role:view",type:"primary"},on:{click:function(t){e.findPage(null)}}})],1),e._v(" "),a("el-form-item",[a("kt-button",{attrs:{icon:"fa fa-plus",label:e.$t("action.add"),perms:"sys:role:add",type:"primary"},on:{click:e.handleAdd}})],1)],1)],1),e._v(" "),a("kt-table",{attrs:{height:220,permsEdit:"sys:role:edit",permsDelete:"sys:role:delete",highlightCurrentRow:!0,stripe:!1,data:e.pageResult,columns:e.columns,showBatchDelete:!1},on:{handleCurrentChange:e.handleRoleSelectChange,findPage:e.findPage,handleEdit:e.handleEdit,handleDelete:e.handleDelete}}),e._v(" "),a("el-dialog",{attrs:{title:e.operation?"新增":"编辑",width:"40%",visible:e.dialogVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"dataForm",attrs:{model:e.dataForm,"label-width":"80px",rules:e.dataFormRules,size:e.size}},[e._e(),e._v(" "),a("el-form-item",{attrs:{label:"角色名",prop:"name"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.dataForm.name,callback:function(t){e.$set(e.dataForm,"name",t)},expression:"dataForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注 ",prop:"remark"}},[a("el-input",{attrs:{"auto-complete":"off",type:"textarea"},model:{value:e.dataForm.remark,callback:function(t){e.$set(e.dataForm,"remark",t)},expression:"dataForm.remark"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:e.size},nativeOn:{click:function(t){e.dialogVisible=!1}}},[e._v(e._s(e.$t("action.cancel")))]),e._v(" "),a("el-button",{attrs:{size:e.size,type:"primary",loading:e.editLoading},nativeOn:{click:function(t){return e.submitForm(t)}}},[e._v(e._s(e.$t("action.submit")))])],1)],1),e._v(" "),a("div",{staticClass:"menu-container",attrs:{"v-if":!0}},[a("div",{staticClass:"menu-header"},[a("span",[a("B",[e._v("角色菜单授权")])],1)]),e._v(" "),a("el-tree",{directives:[{name:"loading",rawName:"v-loading",value:e.menuLoading,expression:"menuLoading"}],ref:"menuTree",staticStyle:{width:"100%","pading-top":"20px"},attrs:{data:e.menuData,size:"mini","show-checkbox":"","node-key":"id",props:e.defaultProps,"render-content":e.renderContent,"element-loading-text":"拼命加载中","check-strictly":!0},on:{"check-change":e.handleMenuCheckChange}}),e._v(" "),a("div",{staticStyle:{float:"left","padding-left":"24px","padding-top":"12px","padding-bottom":"4px"}},[a("el-checkbox",{attrs:{disabled:null==this.selectRole.id},on:{change:e.handleCheckAll},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[a("b",[e._v("全选")])])],1),e._v(" "),a("div",{staticStyle:{float:"right","padding-right":"15px","padding-top":"4px","padding-bottom":"4px"}},[a("kt-button",{attrs:{label:e.$t("action.reset"),perms:"sys:role:edit",type:"primary",disabled:null==this.selectRole.id},on:{click:e.resetSelection}}),e._v(" "),a("kt-button",{attrs:{label:e.$t("action.submit"),perms:"sys:role:edit",type:"primary",disabled:null==this.selectRole.id,loading:e.authLoading},on:{click:e.submitAuthForm}})],1)],1)],1)},staticRenderFns:[]};var u=a("VU/8")(c,d,!1,function(e){a("lIQt")},"data-v-45f54156",null);t.default=u.exports},g9CB:function(e,t,a){var n={"./Core/KtButton":"wbNz","./Core/KtButton.vue":"wbNz","./Core/KtTable":"/4e5","./Core/KtTable.vue":"/4e5","./Core/NoticePanel":"6XgB","./Core/NoticePanel.vue":"6XgB","./Core/PersonalPanel":"vlPt","./Core/PersonalPanel.vue":"vlPt","./Core/TableColumnFilterDialog":"EN35","./Core/TableColumnFilterDialog.vue":"EN35","./Core/TableTreeColumn":"BQHT","./Core/TableTreeColumn.vue":"BQHT","./Error/404":"vr1u","./Error/404.vue":"vr1u","./HeadBar/HeadBar":"4bIh","./HeadBar/HeadBar.vue":"4bIh","./Home":"j7e0","./Home.vue":"j7e0","./IFrame/IFrame":"NGlO","./IFrame/IFrame.vue":"NGlO","./Intro/Intro":"SiGl","./Intro/Intro.vue":"SiGl","./Login":"lmfZ","./Login.vue":"lmfZ","./MainContent/MainContent":"u37B","./MainContent/MainContent.vue":"u37B","./NavBar/NavBar":"w7g/","./NavBar/NavBar.vue":"w7g/","./Pay/Order":"3NfA","./Pay/Order.vue":"3NfA","./Pay/Statistics":"oB8I","./Pay/Statistics.vue":"oB8I","./Player/Query":"jNA0","./Player/Query.vue":"jNA0","./Server/Commands":"sEYk","./Server/Commands.vue":"sEYk","./Server/Nodes":"vfeN","./Server/Nodes.vue":"vfeN","./Sys/Menu":"Is6l","./Sys/Menu.vue":"Is6l","./Sys/Role":"bfzu","./Sys/Role.vue":"bfzu","./Sys/User":"VKGr","./Sys/User.vue":"VKGr"};function i(e){return a(l(e))}function l(e){var t=n[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}i.keys=function(){return Object.keys(n)},i.resolve=l,e.exports=i,i.id="g9CB"},gnrv:function(e,t){},jNA0:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={methods:{searchServers:function(){var e=this;this.$api.server.loadServerIds().then(function(t){e.loading=!1,e.servers=t.ids})},queryPlayer:function(){var e=this;this.$api.player.queryPlayer({serverId:e.selectedServerId,sign:e.querySign}).then(function(t){e.loading=!1,e.tableData=t.data})},selectServerId:function(e){this.selectedServerId=e},banPlayer:function(){var e=this;e.banDialogVisible=!0,this.$api.player.banPlayer({serverId:e.selectedServerId,endTime:this.endTime.getTime(),uid:this.selectUid,banType:this.banType}).then(function(t){e.loading=!1,e.queryPlayer()})},cancelBanPlayer:function(){var e=this;this.$confirm("是否确定解除封禁?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.doCancelBan()}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},doCancelBan:function(){var e=this;this.$api.player.banPlayer({serverId:_this.selectedServerId,endTime:0,uid:this.selectUid,banType:this.banType}).then(function(t){_this.loading=!1,e.queryPlayer()})}},mounted:function(){this.searchServers()},data:function(){return{loading:!1,servers:[],selectedServerId:0,tableData:[],querySign:"",banDialogVisible:!1,endTime:"",banType:0,selectUid:0}}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("el-select",{attrs:{placeholder:"请选择服务器",loading:e.loading},model:{value:e.selectedServerId,callback:function(t){e.selectedServerId=t},expression:"selectedServerId"}},e._l(e.servers,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}))],1),e._v(" "),a("div",{staticStyle:{margin:"10px 0 0 0"}},[a("el-input",{staticStyle:{width:"20%"},attrs:{type:"text",placeholder:"昵称或id"},model:{value:e.querySign,callback:function(t){e.querySign=t},expression:"querySign"}}),e._v(" "),a("el-button",{staticStyle:{width:"10%"},attrs:{type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.queryPlayer(t)}}},[e._v("查询")])],1),e._v(" "),a("div",{staticStyle:{margin:"20px 0 0 0"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{prop:"name",label:"昵称",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"account",label:"所属账号",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"level",label:"等级",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"gold",label:"金币",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"money",label:"银币",width:"300"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.banLogin>0?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.banType=1,e.selectUid=t.row.uid,e.cancelBanPlayer()}}},[e._v("解除封号")]):e._e(),e._v(" "),t.row.banLogin<=0?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.banDialogVisible=!0,e.banType=1,e.selectUid=t.row.uid}}},[e._v("封号")]):e._e(),e._v(" "),t.row.banChat>0?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.banType=2,e.selectUid=t.row.uid,e.cancelBanPlayer()}}},[e._v("解除禁言")]):e._e(),e._v(" "),t.row.banChat<=0?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.banDialogVisible=!0,e.banType=2,e.selectUid=t.row.uid}}},[e._v("禁言")]):e._e()]}}])})],1)],1),e._v(" "),a("div",[a("el-dialog",{attrs:{title:"封禁确认",visible:e.banDialogVisible,width:"30%"},on:{"update:visible":function(t){e.banDialogVisible=t}}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,visible:!1}},[a("el-form-item",[a("el-date-picker",{attrs:{type:"datetime",placeholder:"结束日期"},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.banDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.banPlayer()}}},[e._v("确 定")])],1)],1)],1)])},staticRenderFns:[]},l=a("VU/8")(n,i,!1,null,null,null);t.default=l.exports},lCqD:function(e,t){},lIQt:function(e,t){},oB8I:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={data:function(){return{tableData:[],moneySum:0,selectDateFrom:"",selectDateTo:"",dialogFormVisible:!1,formLabelWidth:"120px",loading2:!1,pickerOptions0:{disabledDate:function(e){return!1}}}},mounted:function(){this.initTime()},methods:{loadData:function(){this.loading2=!0;this.currentPage,this.pageSize,this.selectDateFrom,this.selectDateTo;var e=this;this.$api.pay.statistics({selectFrom:e.selectDateFrom.getTime(),selectTo:e.selectDateTo.getTime()}).then(function(t){e.tableData=t.data.orderGroups,e.moneySum=t.data.moneySum,e.loading2=!1})},onSubmit:function(){this.loadData()},initTime:function(){var e=new Date;e.setHours(0),e.setMinutes(0),e.setSeconds(0),this.selectDateFrom=e;var t=new Date;t.setHours(23),t.setMinutes(59),t.setSeconds(59),this.selectDateTo=t}}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"users"}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-form-item",[a("el-date-picker",{attrs:{type:"datetime",placeholder:"开始日期","picker-options":e.pickerOptions0},model:{value:e.selectDateFrom,callback:function(t){e.selectDateFrom=t},expression:"selectDateFrom"}})],1),e._v(" "),a("el-form-item",[a("el-date-picker",{attrs:{type:"datetime",placeholder:"结束日期","picker-options":e.pickerOptions0},model:{value:e.selectDateTo,callback:function(t){e.selectDateTo=t},expression:"selectDateTo"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("查询")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading2,expression:"loading2"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,"element-loading-text":"拼命加载中"}},[a("el-table-column",{attrs:{prop:"channelCode",label:"归属渠道",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.channelCode))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"money",label:"累计金额",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.money))]}}])})],1),e._v(" "),a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"总金额:"}},[a("el-input",{staticStyle:{width:"128px"},model:{value:e.moneySum,callback:function(t){e.moneySum=t},expression:"moneySum"}})],1)],1)],1)},staticRenderFns:[]};var l=a("VU/8")(n,i,!1,function(e){a("DvVi")},"data-v-a8bec1ac",null);t.default=l.exports},ohzr:function(e,t){},sEYk:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v("全选")]),e._v(" "),a("div",{staticStyle:{margin:"15px 0"}}),e._v(" "),a("el-checkbox-group",{on:{change:e.handleCheckedChange},model:{value:e.checkedServers,callback:function(t){e.checkedServers=t},expression:"checkedServers"}},e._l(e.servers,function(t){return a("el-checkbox",{key:t,attrs:{label:t}},[e._v(e._s(t))])})),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{"overflow-x":"hidden","overflow-y":"hidden"},attrs:{data:e.commands,"tooltip-effect":"dark"}},[a("el-table-column",{attrs:{label:"后台命令",width:"200",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{color:"#409eff",cursor:"pointer"},on:{click:function(a){e.itemClick(t.row)}}},[e._v(e._s(t.row.name))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"参数说明",width:"400",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.params))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"参数",width:"400",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{placeholder:"指令参数"},model:{value:t.row.real_params,callback:function(a){e.$set(t.row,"real_params",a)},expression:"scope.row.real_params"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"120",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"small",disabled:e.btnDisabled},on:{click:function(a){e.cmdType=t.row.type,e.cmdParam=t.row.real_params,e.submitClick()}}},[e._v("执行")])]}}])})],1)],1)},staticRenderFns:[]},i=a("VU/8")({mounted:function(){var e=this;this.loading=!0,this.$api.server.loadServerIds().then(function(t){e.loading=!1,e.servers=t.ids}),this.loadCommands()},data:function(){return{checkAll:!1,checkedServers:[],servers:[],commands:[],isIndeterminate:!0,btnDisabled:!1,loading:!1,cmdParam:"",cmdType:1}},methods:{handleCheckAllChange:function(e){this.checkedServers=e?this.servers:[],this.isIndeterminate=!1},handleCheckedChange:function(e){var t=e.length;this.checkAll=t===this.servers.length,this.isIndeterminate=t>0&&t<this.servers.length},loadCommands:function(){var e=this;this.$api.server.findCommands().then(function(t){e.commands=t})},submitClick:function(){var e=this;this.btnDisabled=!0,this.$api.server.execCommand({selectedServers:this.checkedServers.join(";"),type:this.cmdType,params:this.cmdParam}).then(function(t){e.loading=!1,e.btnDisabled=!1,200==t.code?e.$alert(t.msg,"执行成功"):e.$alert(t.msg,"失败!")})}}},n,!1,null,null,null);t.default=i.exports},tVd1:function(e,t){},vfeN:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("woOf"),i=a.n(n),l=a("mvHQ"),r=a.n(l),o=a("/4e5"),s=a("wbNz"),c={components:{KtTable:o.default,KtButton:s.default},data:function(){return{size:"small",filters:{label:""},dialogVisible:!1,dataForm:{id:0,name:"",ip:"",httpPort:0},loading:!1,tableData:[]}},methods:{findPage:function(){var e=this;this.$api.server.findPage(this.pageRequest).then(function(t){e.tableData=t.data.servers,console.info("-0------------"+r()(e.tableData))})},handleAdd:function(){this.dialogVisible=!0,this.dataForm={id:0,name:"",ip:"",httpPort:0}},handleEdit:function(e){e.id<=0||(this.dialogVisible=!0,i()(this.dataForm,e),console.info("-handleEdit------------"+r()(this.dataForm)))},handleDelete:function(e){var t=this;this.$confirm("确认删除选中记录吗？","提示",{type:"warning"}).then(function(){var a={id:e.id};t.$api.server.deleteNode(a).then(function(e){t.findPage(),t.$message({message:"删除成功",type:"success"})})})},submitForm:function(){var e=this;this.$refs.dataForm.validate(function(t){e.dataForm.id<=0?e.$message({message:"操作失败",type:"error"}):t&&e.$confirm("确认提交吗？","提示",{}).then(function(){e.editLoading=!0;var t=i()({},e.dataForm);e.$api.server.saveNode(t).then(function(t){e.editLoading=!1,200==t.code?(e.$message({message:"操作成功",type:"success"}),e.dialogVisible=!1,e.$refs.dataForm.resetFields()):e.$message({message:"操作失败, "+t.msg,type:"error"}),e.findPage()})})})}},mounted:function(){}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-container"},[a("div",{staticClass:"toolbar",staticStyle:{float:"left","padding-top":"10px","padding-left":"15px"}},[a("el-form",{attrs:{inline:!0,model:e.filters,size:e.size}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"名称"},model:{value:e.filters.label,callback:function(t){e.$set(e.filters,"label",t)},expression:"filters.label"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"fa fa-search"},on:{click:function(t){e.findPage()}}},[e._v(e._s(e.$t("action.search")))])],1),e._v(" "),a("el-form-item",[a("kt-button",{attrs:{icon:"fa fa-plus",label:e.$t("action.add"),perms:"server:nodes:add",type:"primary"},on:{click:e.handleAdd}})],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:"",size:"mini",rowKey:"id","element-loading-text":"$t('action.loading')"}},[a("el-table-column",{attrs:{prop:"id","header-align":"center",align:"center",width:"80",label:"服务器id"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name","header-align":"center",align:"center",width:"120",label:"服务器名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ip","header-align":"center",align:"center",label:"服务器ip"}}),e._v(" "),a("el-table-column",{attrs:{prop:"onlinePlayerSum","header-align":"center",align:"center",label:"在线人数"}}),e._v(" "),a("el-table-column",{attrs:{prop:"httpPort","header-align":"center",align:"center",label:"http端口"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right","header-align":"center",align:"center",width:"185",label:e.$t("action.operation")},scopedSlots:e._u([{key:"default",fn:function(t){return[a("kt-button",{attrs:{icon:"fa fa-edit",label:e.$t("action.edit"),perms:"server:nodes:edit"},on:{click:function(a){e.handleEdit(t.row)}}}),e._v(" "),a("kt-button",{attrs:{icon:"fa fa-trash",label:e.$t("action.delete"),perms:"server:nodes:delete",type:"danger"},on:{click:function(a){e.handleDelete(t.row)}}})]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:e.dataForm.id?"修改":"新增",width:"40%",visible:e.dialogVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"dataForm",staticStyle:{"text-align":"left"},attrs:{model:e.dataForm,"label-width":"80px",size:e.size}},[a("el-form-item",{attrs:{label:"id",prop:"id"}},[a("el-input",{attrs:{placeholder:"服务器id"},model:{value:e.dataForm.id,callback:function(t){e.$set(e.dataForm,"id",t)},expression:"dataForm.id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"服务器名称"},model:{value:e.dataForm.name,callback:function(t){e.$set(e.dataForm,"name",t)},expression:"dataForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"服务器ip",prop:"ip"}},[a("el-input",{attrs:{placeholder:"服务器ip"},model:{value:e.dataForm.ip,callback:function(t){e.$set(e.dataForm,"ip",t)},expression:"dataForm.ip"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"http端口",prop:"httpPort"}},[a("el-input",{attrs:{placeholder:"http端口"},model:{value:e.dataForm.httpPort,callback:function(t){e.$set(e.dataForm,"httpPort",t)},expression:"dataForm.httpPort"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:e.size},on:{click:function(t){e.dialogVisible=!1}}},[e._v(e._s(e.$t("action.cancel")))]),e._v(" "),a("el-button",{attrs:{size:e.size,type:"primary"},on:{click:function(t){e.submitForm()}}},[e._v(e._s(e.$t("action.comfirm")))])],1)],1)],1)},staticRenderFns:[]},u=a("VU/8")(c,d,!1,null,null,null);t.default=u.exports},vhi9:function(e,t){},wbNz:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("IcnI");var i={name:"KtButton",props:{label:{type:String,default:"Button"},icon:{type:String,default:""},size:{type:String,default:"mini"},type:{type:String,default:null},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},perms:{type:String,default:null}},data:function(){return{}},methods:{handleClick:function(){this.$emit("click",{})},hasPerms:function(e){return function(e){for(var t=!1,a=n.a.state.user.perms,i=0,l=a.length;i<l;i++)if(a[i]===e){t=!0;break}return t}(e)&!this.disabled}},mounted:function(){}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.hasPerms(e.perms)?a("el-button",{attrs:{size:e.size,type:e.type,icon:e.icon,loading:e.loading},on:{click:e.handleClick}},[e._v("\n  "+e._s(e.label)+"\n")]):e._e()},staticRenderFns:[]};var r=a("VU/8")(i,l,!1,function(e){a("tVd1")},"data-v-0831b61c",null);t.default=r.exports},xA5l:function(e,t,a){"use strict";var n={name:"PopupTreeInput",props:{data:{type:Array,default:[]},props:{type:Object,default:{}},prop:{type:String,default:""},nodeKey:{type:String,default:""},placeholder:{type:String,default:"点击选择内容"},placement:{type:String,default:"right-start"},defaultExpandAll:{type:Boolean,default:!1},currentChangeHandle:{type:Function,default:null}}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-popover",{ref:"popover",attrs:{placement:e.placement,trigger:"click"}},[a("el-tree",{ref:"popupTree",attrs:{data:e.data,props:e.props,"node-key":"nodeKey","default-expand-all":e.defaultExpandAll,"highlight-current":!0,"expand-on-click-node":!0},on:{"current-change":e.currentChangeHandle}})],1),e._v(" "),a("el-input",{directives:[{name:"popover",rawName:"v-popover:popover",arg:"popover"}],staticStyle:{cursor:"pointer"},attrs:{readonly:!0,placeholder:e.placeholder},model:{value:e.prop,callback:function(t){e.prop=t},expression:"prop"}})],1)},staticRenderFns:[]};var l=a("VU/8")(n,i,!1,function(e){a("T7/o")},"data-v-5e4c4cef",null);t.a=l.exports},zCrF:function(e,t){}});
//# sourceMappingURL=0.4b29e8af166a7683c372.js.map